<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <link rel="stylesheet" href="/stylesheets/summary.css" />
    <link rel="stylesheet" href="/stylesheets/flashcards.css" />
    <script defer src="../javascripts/script.js"></script>
    <title>Document</title>
  </head>
  <body>
    <header>
      <nav>
        <a href="/summary"
          ><span class="material-symbols-outlined"> arrow_back_ios </span
          ><span class="material-symbols-outlined"> empty_dashboard </span></a
        >
        <h1><%=deck.name%></h1>
        <span class="material-symbols-outlined"> logout </span>
      </nav>
    </header>
    <div class="display-container">
      <a href="/decks/<%=deck._id%>/flashcards/new"
        ><button class="show-deck-btns">Add Card to Deck</button></a
      >
      <table>
        <thead>
          <tr>
            <th>Cards Due:</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>#</td>
          </tr>
        </tbody>
      </table>
      <a href="/decks/<%=deckID%>/flashcards/"
        ><button class="show-deck-btns">Study Now</button></a
      >
    </div>
    <main>
      <div class="show-container">
        <!-- takes first card in queue -->
        <div class="front-container">
          Question: Lorem ipsum dolor sit amet consectetur adipisicing elit.
          Excepturi laboriosam debitis harum similique voluptate dolores autem
          eveniet quas rerum veritatis tenetur iure nobis, non consequuntur
          sequi provident sit quod praesentium.
        </div>
        <!-- back container display set to none -->

        <div class="options-container">
          <div class="tags"></div>
          <!-- onclick, sets post-reveal display to flex and reveal to none -->
          <div class="reveal"><button>Show Answer</button></div>
        </div>
      </div>
    </main>
    <main>
      <div class="back-container">
        Answer: Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsa
        unde fuga saepe possimus repellendus earum iure eos nobis ullam,
        necessitatibus totam. Eveniet autem non temporibus labore soluta nam
        natus perferendis?
      </div>
      <div class="post-reveal">
        <!-- onclick should trigger function to resort card in queue -->
        <div class="again"><button type="submit">Again</button></div>
        <div class="hard"><button type="submit">Hard</button></div>
        <div class="good"><button type="submit">Good</button></div>
        <div class="easy"><button type="submit">Easy</button></div>
      </div>
    </main>
    <script>
      async function getData(deckID) {
        try {
          const endpoint = "/api/flashcards/"+deckID;
          // let flashcards = await fetch(endpoint).then((res) => res.json());
          let flashcards = fetch(endpoint).then((res) =>
          res.json().then(data => {console.log(data)})
          );
        } catch(err) {
          console.log(err);
        }
      }
            var s = <%- JSON.stringify(deckID) %>
            getData(s)

// STEP 1
      // event listener for study now button
      // event listener for show answer 
      //event listener for option buttons
    // have global counter
    // function show card at index 0 of due cards
      //onclick of options buttons:
         // increment counter until it is longer than due array, then set back to 0 
         // show next card in array
         // call render function

      // build render function

// STEP 2: 
  // logic for update functionality - changing due values
  
//STEP 3: 
    // adding logic for what happens when i hit the end of the array




    </script>
  </body>
</html>
